/* 
Procedimiento para modificar una categoria de vehículo.
Verifica que el id exista, luego modifica sus campos.
Parámetro de salida el estado del procedimiento.
*/

CREATE PROCEDURE `sp_categoriavehiculoUPD`(
	_idCVehiculo int,
	_Descripcion varchar(20),
    	OUT estado tinyint
)
BEGIN
	IF (SELECT COUNT(idCVehiculo) FROM tbl_categoriavehiculo
		WHERE idCVehiculo=_idCVehiculo) = 1 THEN
        	UPDATE tbl_categoriavehiculo SET Descripcion=_Descripcion
        	WHERE idCVehiculo = _idCVehiculo;
        	SELECT 1 INTO estado;
	ELSE
       		SELECT 0 INTO estado;
	END IF;
END
